    </main>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-blue-900 via-blue-800 to-indigo-900 text-white mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Brand Section -->
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-xl flex items-center justify-center">
                            <i class="fas fa-tasks text-white text-lg"></i>
                        </div>
                        <span class="ml-3 text-2xl font-bold">TaskMaster Pro</span>
                    </div>
                    <p class="text-blue-200 text-sm leading-relaxed mb-6">
                        Transform your productivity with our comprehensive task management solution. 
                        Stay organized, track progress, and achieve your goals with powerful analytics and insights.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 bg-blue-700 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors duration-200">
                            <i class="fab fa-twitter text-white"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-blue-700 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors duration-200">
                            <i class="fab fa-linkedin text-white"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-blue-700 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors duration-200">
                            <i class="fab fa-github text-white"></i>
                        </a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div>
                    <h3 class="text-lg font-semibold mb-4 text-blue-100">Quick Links</h3>
                    <ul class="space-y-2">
                        <li>
                            <a href="/dashboard" class="text-blue-200 hover:text-white transition-colors duration-200 text-sm">
                                <i class="fas fa-chart-line mr-2"></i>Dashboard
                            </a>
                        </li>
                        <li>
                            <a href="/tasks/daily" class="text-blue-200 hover:text-white transition-colors duration-200 text-sm">
                                <i class="fas fa-calendar-day mr-2"></i>Daily Tasks
                            </a>
                        </li>
                        <li>
                            <a href="/tasks/monthly" class="text-blue-200 hover:text-white transition-colors duration-200 text-sm">
                                <i class="fas fa-calendar-alt mr-2"></i>Monthly View
                            </a>
                        </li>
                        <li>
                            <a href="/dashboard/reports" class="text-blue-200 hover:text-white transition-colors duration-200 text-sm">
                                <i class="fas fa-file-alt mr-2"></i>Reports
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Support -->
                <div>
                    <h3 class="text-lg font-semibold mb-4 text-blue-100">Support</h3>
                    <ul class="space-y-2">
                        <li>
                            <a href="#" class="text-blue-200 hover:text-white transition-colors duration-200 text-sm">
                                <i class="fas fa-question-circle mr-2"></i>Help Center
                            </a>
                        </li>
                        <li>
                            <a href="#" class="text-blue-200 hover:text-white transition-colors duration-200 text-sm">
                                <i class="fas fa-envelope mr-2"></i>Contact Us
                            </a>
                        </li>
                        <li>
                            <a href="#" class="text-blue-200 hover:text-white transition-colors duration-200 text-sm">
                                <i class="fas fa-book mr-2"></i>Documentation
                            </a>
                        </li>
                        <li>
                            <a href="#" class="text-blue-200 hover:text-white transition-colors duration-200 text-sm">
                                <i class="fas fa-bug mr-2"></i>Report Bug
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Bottom Section -->
            <div class="border-t border-blue-700 mt-8 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="text-blue-200 text-sm">
                        <p>&copy; 2024 TaskMaster Pro. All rights reserved.</p>
                    </div>
                    <div class="flex space-x-6 mt-4 md:mt-0">
                        <a href="#" class="text-blue-200 hover:text-white text-sm transition-colors duration-200">Privacy Policy</a>
                        <a href="#" class="text-blue-200 hover:text-white text-sm transition-colors duration-200">Terms of Service</a>
                        <a href="#" class="text-blue-200 hover:text-white text-sm transition-colors duration-200">Cookie Policy</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="backToTop" class="fixed bottom-6 right-6 w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 opacity-0 invisible hover:scale-110">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 shadow-xl">
            <div class="flex items-center space-x-3">
                <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"></div>
                <span class="text-gray-700 font-medium">Loading...</span>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <!-- Reward Modal -->
    <div id="rewardModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 scale-95 opacity-0">
            <div class="relative">
                <!-- Background Image -->
                <div class="h-48 bg-cover bg-center rounded-t-2xl relative overflow-hidden">
                    <img id="rewardImage" src="" alt="Motivational Background" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
                </div>
                
                <!-- Close Button -->
                <button onclick="closeRewardModal()" class="absolute top-4 right-4 text-white hover:text-gray-300 transition-colors duration-200">
                    <i class="fas fa-times text-xl"></i>
                </button>
                
                <!-- Content -->
                <div class="p-6">
                    <div class="text-center">
                        <!-- Achievement Badge (if any) -->
                        <div id="achievementBadge" class="hidden mb-4">
                            <div class="inline-flex items-center justify-center w-16 h-16 rounded-full text-2xl mb-2">
                                <span id="badgeIcon"></span>
                            </div>
                            <h3 id="badgeName" class="text-lg font-bold text-gray-900 mb-1"></h3>
                            <p id="badgeDescription" class="text-sm text-gray-600"></p>
                        </div>
                        
                        <!-- Quote -->
                        <div class="mb-4">
                            <p id="rewardQuote" class="text-lg font-semibold text-gray-900 mb-2 leading-relaxed"></p>
                            <p id="rewardAuthor" class="text-sm text-gray-600 italic"></p>
                        </div>
                        
                        <!-- Streak Info -->
                        <div id="streakInfo" class="hidden mb-4">
                            <div class="bg-gradient-to-r from-orange-400 to-red-500 text-white px-4 py-2 rounded-full inline-block">
                                <i class="fas fa-fire mr-2"></i>
                                <span id="streakCount"></span> Day Streak!
                            </div>
                        </div>
                        
                        <!-- Milestone Info -->
                        <div id="milestoneInfo" class="hidden mb-4">
                            <div class="bg-gradient-to-r from-purple-400 to-pink-500 text-white px-4 py-2 rounded-full inline-block">
                                <i class="fas fa-trophy mr-2"></i>
                                <span id="milestoneText"></span>
                            </div>
                        </div>
                        
                        <!-- Action Button -->
                        <button onclick="closeRewardModal()" class="bg-gradient-to-r from-[#00CED1] to-[#20B2AA] text-white px-6 py-3 rounded-lg hover:from-[#00B8BA] hover:to-[#1CA0A0] transition-all duration-200 shadow-md hover:shadow-lg font-medium">
                            <i class="fas fa-heart mr-2"></i>Keep Going!
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Back to Top functionality
        const backToTopBtn = document.getElementById('backToTop');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopBtn.classList.remove('opacity-0', 'invisible');
                backToTopBtn.classList.add('opacity-100', 'visible');
            } else {
                backToTopBtn.classList.add('opacity-0', 'invisible');
                backToTopBtn.classList.remove('opacity-100', 'visible');
            }
        });

        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Loading Spinner
        const loadingSpinner = document.getElementById('loadingSpinner');
        
        function showLoading() {
            loadingSpinner.classList.remove('hidden');
        }
        
        function hideLoading() {
            loadingSpinner.classList.add('hidden');
        }

        // Toast Notifications
        function showToast(message, type = 'info') {
            const toastContainer = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            
            const colors = {
                success: 'bg-green-500',
                error: 'bg-red-500',
                warning: 'bg-yellow-500',
                info: 'bg-blue-500'
            };
            
            const icons = {
                success: 'fa-check-circle',
                error: 'fa-exclamation-circle',
                warning: 'fa-exclamation-triangle',
                info: 'fa-info-circle'
            };
            
            toast.className = `${colors[type]} text-white px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 transform translate-x-full transition-transform duration-300`;
            toast.innerHTML = `
                <i class="fas ${icons[type]}"></i>
                <span>${message}</span>
                <button onclick="this.parentElement.remove()" class="ml-auto text-white hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            toastContainer.appendChild(toast);
            
            // Animate in
            setTimeout(() => {
                toast.classList.remove('translate-x-full');
            }, 100);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                toast.classList.add('translate-x-full');
                setTimeout(() => {
                    if (toast.parentElement) {
                        toast.remove();
                    }
                }, 300);
            }, 5000);
        }

        // Form submission with loading
        document.addEventListener('DOMContentLoaded', () => {
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.addEventListener('submit', () => {
                    showLoading();
                });
            });
        });

        // Auto-hide flash messages (only actual flash messages, not UI sections)
        const flashMessages = document.querySelectorAll('.flash-message, .alert, [data-flash="true"]');
        flashMessages.forEach(message => {
            setTimeout(() => {
                message.style.opacity = '0';
                setTimeout(() => {
                    message.remove();
                }, 300);
            }, 5000);
        });

        // Check for reward data in flash messages
        checkForRewards();

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + K to focus search
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                const searchInput = document.querySelector('input[type="search"], input[placeholder*="search"]');
                if (searchInput) {
                    searchInput.focus();
                }
            }
            
            // Escape to close modals
            if (e.key === 'Escape') {
                const modals = document.querySelectorAll('.modal');
                modals.forEach(modal => {
                    if (!modal.classList.contains('hidden')) {
                        modal.classList.add('hidden');
                    }
                });
            }
        });

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-fade-in');
                }
            });
        }, observerOptions);

        // Observe elements for animation
        document.querySelectorAll('.card, .stat-card, .task-item').forEach(el => {
            observer.observe(el);
        });

        // Logout confirmation
        function confirmLogout(event) {
            event.preventDefault();
            
            // Create a beautiful confirmation modal
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-2xl shadow-2xl p-6 max-w-sm w-full mx-4 transform transition-all duration-300 scale-95 opacity-0">
                    <div class="text-center">
                        <div class="mx-auto h-12 w-12 bg-red-100 rounded-full flex items-center justify-center mb-4">
                            <i class="fas fa-sign-out-alt text-red-600 text-xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Confirm Logout</h3>
                        <p class="text-sm text-gray-600 mb-6">Are you sure you want to sign out of your account?</p>
                        <div class="flex space-x-3">
                            <button onclick="closeLogoutModal()" class="flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200">
                                Cancel
                            </button>
                            <button onclick="proceedLogout()" class="flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors duration-200">
                                <i class="fas fa-sign-out-alt mr-2"></i>Logout
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Animate in
            setTimeout(() => {
                modal.querySelector('.bg-white').classList.remove('scale-95', 'opacity-0');
                modal.querySelector('.bg-white').classList.add('scale-100', 'opacity-100');
            }, 10);
            
            // Close on backdrop click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeLogoutModal();
                }
            });
            
            // Close on escape key
            document.addEventListener('keydown', function closeOnEscape(e) {
                if (e.key === 'Escape') {
                    closeLogoutModal();
                    document.removeEventListener('keydown', closeOnEscape);
                }
            });
        }
        
        function closeLogoutModal() {
            const modal = document.querySelector('.fixed.inset-0.bg-black.bg-opacity-50');
            if (modal) {
                modal.querySelector('.bg-white').classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    modal.remove();
                }, 300);
            }
        }
        
        function proceedLogout() {
            const form = document.getElementById('logoutForm');
            if (form) {
                // Show loading state
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Signing out...';
                submitBtn.disabled = true;
                
                // Submit the form
                form.submit();
            }
        }

        // Reward Modal Functions
        function showRewardModal(rewardData) {
            console.log('showRewardModal called with:', rewardData);
            const modal = document.getElementById('rewardModal');
            const image = document.getElementById('rewardImage');
            const quote = document.getElementById('rewardQuote');
            const author = document.getElementById('rewardAuthor');
            const achievementBadge = document.getElementById('achievementBadge');
            const badgeIcon = document.getElementById('badgeIcon');
            const badgeName = document.getElementById('badgeName');
            const badgeDescription = document.getElementById('badgeDescription');
            const streakInfo = document.getElementById('streakInfo');
            const streakCount = document.getElementById('streakCount');
            const milestoneInfo = document.getElementById('milestoneInfo');
            const milestoneText = document.getElementById('milestoneText');

            // Set quote and author
            if (rewardData.quote) {
                quote.textContent = rewardData.quote;
                author.textContent = `- ${rewardData.author}`;
            }

            // Set background image
            if (rewardData.image) {
                image.src = rewardData.image;
            }

            // Show achievement badge if available
            if (rewardData.achievement) {
                achievementBadge.classList.remove('hidden');
                badgeIcon.textContent = rewardData.achievement.icon;
                badgeName.textContent = rewardData.achievement.name;
                badgeDescription.textContent = rewardData.achievement.description;
                badgeIcon.className = `text-2xl ${rewardData.achievement.color} rounded-full p-2`;
            } else {
                achievementBadge.classList.add('hidden');
            }

            // Show streak info if available
            if (rewardData.streak) {
                streakInfo.classList.remove('hidden');
                streakCount.textContent = rewardData.streak;
            } else {
                streakInfo.classList.add('hidden');
            }

            // Show milestone info if available
            if (rewardData.milestone) {
                milestoneInfo.classList.remove('hidden');
                milestoneText.textContent = rewardData.milestone;
            } else {
                milestoneInfo.classList.add('hidden');
            }

            // Show modal with animation
            modal.classList.remove('hidden');
            setTimeout(() => {
                const modalContent = modal.querySelector('.bg-white');
                modalContent.classList.remove('scale-95', 'opacity-0');
                modalContent.classList.add('scale-100', 'opacity-100');
            }, 10);

            // Auto-close after 5 seconds
            setTimeout(() => {
                closeRewardModal();
            }, 5000);
        }

        function closeRewardModal() {
            const modal = document.getElementById('rewardModal');
            const modalContent = modal.querySelector('.bg-white');
            
            modalContent.classList.add('scale-95', 'opacity-0');
            modalContent.classList.remove('scale-100', 'opacity-100');
            
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        function checkForRewards() {
            // Check if there's reward data in the page
            const rewardData = window.rewardData;
            console.log('Checking for rewards, rewardData:', rewardData);
            if (rewardData) {
                console.log('Showing reward modal with data:', rewardData);
                showRewardModal(rewardData);
                delete window.rewardData;
            } else {
                console.log('No reward data found');
            }
        }

        // Handle task completion rewards via AJAX
        function handleTaskCompletionRewards(response) {
            if (response.rewards) {
                const rewardData = {
                    quote: response.rewards.motivationalQuote?.quote,
                    author: response.rewards.motivationalQuote?.author,
                    image: response.rewards.motivationalQuote?.image,
                    streak: response.rewards.currentStreak,
                    milestone: response.rewards.milestoneMessage?.quote
                };

                // Show achievement if available
                if (response.rewards.newAchievements && response.rewards.newAchievements.length > 0) {
                    rewardData.achievement = response.rewards.newAchievements[0];
                }

                showRewardModal(rewardData);
            }
        }
    </script>

    <!-- Additional Styles for Animations -->
    <style>
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Focus styles for accessibility */
        button:focus,
        input:focus,
        select:focus,
        textarea:focus,
        a:focus {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</body>
</html>
